!function e(r,n,o){function t(a,c){if(!n[a]){if(!r[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};r[a][0].call(u.exports,function(e){var n=r[a][1][e];return t(n||e)},u,u.exports,e,r,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)t(o[a]);return t}({1:[function(e,r,n){window.SecfAdapter=e("./index.secf.module.js"),null!=window.axios&&(window.secfAdapter=new SecfAdapter(window.axios))},{"./index.secf.module.js":2}],2:[function(e,r,n){function o(){return function(e){var r=this;if(3!==arguments.length)return new Promise(function(n,o){i(r,n,o,e)});e=arguments[2],i(r,arguments[0],arguments[1],e)}.bind(this)}function t(e,r){var n=this;return n===window?null:e&&e.defaults?(this.axiosInstance=e,this.adapterOriginal=e.defaults.adapter,this.adapterConfig=r||{},o.call(n)):null}function i(e,r,n,o){null==o&&(o={}),null==(o=Object.assign(e.adapterConfig||{},o)).secf&&(o.secf={}),null==o.secf.idbVersion&&(o.secf.idbVersion=1),null==o.secf.idbName&&(o.secf.idbName="axios-secf-cache-control",o.secf.idbVersion=1),null==o.secf.maxAge&&(o.secf.maxAge=120),null==o.secf.cacheName&&(o.secf.cacheName="axios-secf-cache-control"),null==o.secf.log_enabled&&(o.secf.log_enabled=!1);var t=o;1==(o=o.secf).log_enabled&&console.log("[expiring_cache_first] - maxAge:"+o.maxAge+"  url:"+t.url+"  params:"+JSON.stringify(t.params));var i,l,u,d,f,_,g=function(){var e=c[o.idbName+"__"+o.idbVersion];return new Promise(function(r,n){if(null==e){var t=indexedDB.open(o.idbName,o.idbVersion);t.onupgradeneeded=function(e){var n=e.target.result;n.createObjectStore("urls",{keyPath:"url"}),c[o.idbName+"__"+o.idbVersion]=n,r(n)},t.onsuccess=function(e){var n=e.target.result;c[o.idbName+"__"+o.idbVersion]=n,r(n)},t.onerror=function(e){1==o.log_enabled&&console.log("  [expiring_cache_first] - Error opening the indexedDb "+o.idbName+" - Error:"+t.error),n(e)},t.onblocked=function(e){n(e)}}else r(e)})},p=function(e,r){return new Promise(function(n,t){if(e){1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Good response while fetching resource ["+f+"]");var a,c;if(a=e.headers&&e.headers.date,1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - response_header_date_utc:"+a+"   url:["+f+"]"),null!=a&&null!=(c=new Date(a).getTime())&&0==isNaN(c)||(c=null),1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - response_header_date_utc_timestamp:"+c+"   url:["+f+"]"),1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] -          row_cache_control.expires:"+l.expires+"   url:["+f+"]"),"cache"==r||null!=c&&l.date_utc_timestamp==c)1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - Resource was retrieved from CACHE   url:["+f+"]"),"networkFirst"==d&&"maybe_online"==s.status&&(s.status="offline",s.async_id=setTimeout(function(){s.status="maybe_online"},15e3)),n();else{1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - Resource was retrieved from NETWORK   url:["+f+"]"),"offline"==s.status&&(s.status="maybe_online",null!=s.async_id&&(clearTimeout(s.async_id),s.async_id=null));var _=null==l.url?"add":"put";u=Date.now(),l.url=f,l.date_utc_timestamp=c,l.expires=u+1e3*o.maxAge,l.response={status:e.status,statusText:e.statusText,headers:e.headers,data:e.data},1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - updating row_cache_control to:"+JSON.stringify(l)+"   url:["+f+"]");var g=i.transaction(["urls"],"readwrite").objectStore("urls");requestUpdate="add"==_?g.add(l):g.put(l),requestUpdate.onerror=function(e){1==o.log_enabled&&console.log("  [expiring_cache_first] - Error updating cache-control data associated to resource ["+f+"] - Error:"+requestUpdate.error),t()},requestUpdate.onsuccess=function(e){1==o.log_enabled&&console.log("      [expiring_cache_first."+d+"] - row_cache_control updated to:"+JSON.stringify(l)+"   url:["+f+"]"),n()}}}else 1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Bad response while fetching resource ["+f+"]"),t()})};new Promise(function(e,r){null==(i=c[o.idbName+"__"+o.idbVersion])?g().catch(function(e){1==o.log_enabled&&console.log(e)}).then(function(r){e(i=r)}):e(i)}).then(function(e){return _="",f=""+t.url,t.params&&""!=(_=a(t.params))&&(f+=(f.indexOf("?")>=0?"&":"?")+_),l={},new Promise(function(r,n){var t=e.transaction("urls","readonly").objectStore("urls").get(f);t.onerror=function(e){1==o.log_enabled&&console.log("  [expiring_cache_first] - Error reading cache-control data associated to resource ["+f+"] - Error:"+t.error),r(null)},t.onsuccess=function(e){r(t.result)}})}).catch(function(e){1==o.log_enabled&&console.log("  [expiring_cache_first] - Error reading cache-control data associated to resource ["+f+"] - Error:"+e)}).then(function(i){null!=i&&null!=i.response&&(i.response.config=t),l=i||{},1==o.log_enabled&&console.log("  [expiring_cache_first] - row_cache_control for this resource:"+JSON.stringify(l)+"   url:["+f+"]"),u=Date.now(),1==o.log_enabled&&console.log("  [expiring_cache_first] - row_cache_control.expires (1): "+l.expires+"   url:["+f+"]"),1==o.log_enabled&&console.log("  [expiring_cache_first] -         now_utc_timestamp (2): "+u+"   url:["+f+"]"),1==o.log_enabled&&console.log("  [expiring_cache_first] -                       (1)>(2): "+(l.expires>u)+"   url:["+f+"]"),"offline"==s.status||null!=l&&null!=l.expires&&l.expires>u?(d="cacheFirst",1==o.log_enabled&&console.log("  [expiring_cache_first] - strategy: "+d),null==l?(t.adapter=e.adapterOriginal,e.axiosInstance.request(t).then(function(e){return p(e,"network").catch(function(n){return 1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Error while handling cache-control data associated to resource ["+f+"] - Error:",n),r(e),e}).then(function(){return r(e),e})},function(e){return 1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Error while fetching resource ["+f+"] - Error:"+JSON.stringify(e)),n(e),null})):r(l.response)):(d="networkFirst",1==o.log_enabled&&console.log("  [expiring_cache_first] - strategy:"+d),t.adapter=e.adapterOriginal,e.axiosInstance.request(t).then(function(e){return p(e,"network").catch(function(n){return 1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Error while handling cache-control data associated to resource ["+f+"] - Error:",n),r(e),e}).then(function(){return r(e),e})},function(e){return null==l?(1==o.log_enabled&&console.log("    [expiring_cache_first."+d+"] - Error while fetching resource ["+f+"] - Error:"+JSON.stringify(e)),n(e),null):(r(l.response),null)}))})}t.prototype.adapter=o,r.exports=r.exports.default=t;var a=function(e,r){var n,o=[];for(n in e)if(e.hasOwnProperty(n)){var t=r?r+"["+n+"]":n,i=e[n];o.push(null!==i&&"object"==typeof i?a(i,t):encodeURIComponent(t)+"="+encodeURIComponent(i))}return o.join("&")},c={},s={status:"maybe_online",async_id:null}},{}]},{},[1]);